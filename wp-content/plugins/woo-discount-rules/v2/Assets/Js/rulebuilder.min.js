var wdr_buildrule;!function(e){wdr_buildrule={wdr_clone_field:function(l){var d=e.extend({addFilterType:null,addFilterMethod:null,ruleAppendTo:null,addConditionType:null,addRemoveIcon:null,addDiscountElement:null,addDiscountType:null,newIndex:null},l),n=e(d.addRemoveIcon).html(),i=e(d.addFilterMethod).html();if(null===d.addDiscountElement&&null!==d.addFilterType&&null!==d.addFilterMethod&&null!==d.ruleAppendTo){var o=e(d.addFilterType).html();o=o.replace(new RegExp("{i}","g"),d.newIndex),i=i.replace(new RegExp("{i}","g"),d.newIndex),e(d.ruleAppendTo).append('<div class="wdr-grid wdr-filter-group" data-index="'+d.newIndex+'">'+o+i+n+"</div>")}else if(null===d.addDiscountType&&null===d.addDiscountElement&&null===d.addFilterType&&null!==d.addFilterMethod&&null!==d.ruleAppendTo&&null===d.addConditionType)i=i.replace(new RegExp("{i}","g"),d.newIndex),e(d.ruleAppendTo).append(i+n);else if(null===d.addDiscountElement&&null!==d.addConditionType&&null!==d.addFilterMethod&&null!==d.ruleAppendTo){var t=e(d.addConditionType).html();let l="",i="";var a=e(d.addFilterMethod).html();a=a.replace(new RegExp("{i}","g"),d.newIndex),t&&"undefined"!=t?(t=t.replace(new RegExp("{i}","g"),d.newIndex),e(d.ruleAppendTo).append('<div class="'+i+' wdr-conditions-container wdr-condition-group" style="'+l+'" data-index="'+d.newIndex+'">'+t+a+n+"</div>")):(t="",l="display:none",i="promo_show_hide_"+d.newIndex,n="",e(d.ruleAppendTo+" [data-index='"+d.newIndex+"']").after('<div class="'+i+' wdr-conditions-container wdr-condition-group" style="'+l+'" data-index="'+d.newIndex+'">'+t+a+n+"</div>"))}else null==d.addDiscountType&&null!==d.addDiscountElement&&null!==d.addFilterMethod&&null!==d.ruleAppendTo?(i=i.replace(new RegExp("{i}","g"),d.newIndex),e(d.ruleAppendTo).append(i)):null!==d.addDiscountType&&null!==d.ruleAppendTo&&e(d.ruleAppendTo).html(i)},remove_wdr_field_group:function(l){var d=e.extend({parentRow:null,parentsRow:null,siblingElements:null,thisObject:null},l);null!==d.parentsRow&&null!==d.thisObject&&e(d.thisObject).parents(d.parentsRow).remove(),null!==d.parentRow&&null===d.siblingElements&&e(d.parentRow).siblings().remove()},show_hide_rule_block:function(l){var d=e.extend({showBlockId:null,hideBlockId:null,thisObject:null,discountTab:null,showTabId:null},l);null!==d.showBlockId&&null===d.hideBlockId&&e(d.showBlockId).show(),null!==d.showBlockId&&null!==d.hideBlockId&&(e(d.showBlockId).show(),e(d.hideBlockId).hide(),e(d.thisObject).siblings(".wdr-active").removeClass("wdr-active wdr-inactive").prop("disabled",!1).addClass("wdr-inactive"),e(d.thisObject).removeClass("wdr-inactive").addClass("wdr-active")),null!==d.showBlockId&&null!==d.hideBlockId&&(e(d.showBlockId).show(),e(d.hideBlockId).hide(),e(d.thisObject).siblings(".wdr-active").removeClass("wdr-active").prop("disabled",!1),e(d.thisObject).addClass("wdr-active"))}}}(jQuery);