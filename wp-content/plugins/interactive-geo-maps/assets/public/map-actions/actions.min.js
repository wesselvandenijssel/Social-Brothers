function igm_display_below(e,t){iMapsActions.contentBelow(e,t,!1),window.dispatchEvent(new Event("resize"))}function igm_display_below_scroll(e,t){iMapsActions.contentBelow(e,t,!0),window.dispatchEvent(new Event("resize"))}function igm_display_above(e,t){iMapsActions.contentAbove(e,t,!1),window.dispatchEvent(new Event("resize"))}function igm_display_page_below(e,t){iMapsActions.pageBelow(e,t,!1)}function igm_display_page_below_and_scroll(e,t){iMapsActions.pageBelow(e,t,!0)}function igm_display_right_1_3(e,t){iMapsActions.contentRight(e,t,"igm_content_left_2_3","igm_content_right_1_3"),window.dispatchEvent(new Event("resize"))}function igm_lightbox(e,t){iMapsActions.lightboxAction(e,t,"inline"),window.dispatchEvent(new Event("resize"))}function igm_lightbox_image(e,t){iMapsActions.lightboxAction(e,t,"image")}function igm_lightbox_iframe(e,t){iMapsActions.lightboxAction(e,t,"external")}iMapsActions={},iMapsActions.init=function(){for(var e=document.querySelectorAll(".igm-live-filter"),t=0;t<e.length;t++)iMapsActions.buildFilter(e[t]);var i=document.querySelectorAll(".igm-live-filter-dropdown");for(t=0;t<i.length;t++)iMapsActions.buildDropdownFilter(i[t]);var n=document.querySelectorAll(".igm_select_choices");if(n.length>0)for(t=0;t<n.length;t++)iMapsActions.buildDropdown(n[t]);else{n=document.querySelectorAll(".igm_select");for(t=0;t<n.length;t++)n[t].addEventListener("change",function(e){var t=e.target,i=t.getAttribute("data-map-id");if(i=parseInt(i),"undefined"==typeof iMapsManager){if(t.getAttribute("data-url")){var n=t.getAttribute("data-url").split("#")[1];if(n){var a=t.getAttribute("data-url").replace("#"+n,"");window.open(a+"?mregion="+t.value+"#"+n,"_self")}else window.open(t.getAttribute("data-url")+"?mregion="+t.value,"_self")}}else iMapsManager.select(i,t.value,!0)})}var a=document.querySelectorAll(".igm_entries_list");for(t=0;t<a.length;t++)iMapsActions.buildLists(a[t])},iMapsActions.buildDropdown=function(e){var t=e.getAttribute("data-noresults"),i=e.getAttribute("data-select"),n={noResultsText:t,itemSelectText:i,resetScrollPosition:!1},a=new Choices(e,n);a.passedElement.element.addEventListener("change",function(){var t=e.getAttribute("data-map-id");if(t=parseInt(t),"undefined"!=typeof iMapsManager&&iMapsManager.select(t,this.value,!0),e.getAttribute("data-url")){var i=e.getAttribute("data-url").split("#")[1];if(i){var n=e.getAttribute("data-url").replace("#"+i,"");window.open(n+"?mregion="+e.value+"#"+i,"_self")}else window.open(e.getAttribute("data-url")+"?mregion="+e.value,"_self")}})},iMapsActions.buildLists=function(e){for(var t=e.getAttribute("data-map-id"),i=e.querySelectorAll("li"),n=0;n<i.length;n++){var a=i[n];a.addEventListener("click",function(e){if("undefined"==typeof iMapsManager)e.target.getAttribute("data-url")&&window.open(e.target.getAttribute("data-url")+"?mregion="+e.target.getAttribute("data-code"),"_self");else{var i=e.target.getAttribute("data-code");iMapsManager.select(t,i,!0)}}),a.addEventListener("mouseover",function(e){if("undefined"!=typeof iMapsManager){var i=e.target.getAttribute("data-code");iMapsManager.highlight(t,i)}}),a.addEventListener("mouseout",function(e){"undefined"!=typeof iMapsManager&&iMapsManager.clearHighlighted(t)})}},iMapsActions.buildDropdownFilter=function(e){var t=e.getAttribute("data-base-map-id"),i=e.getAttribute("data-keep-base-map");i=void 0!==i&&"1"===i,t=parseInt(t),e.addEventListener("change",function(e){var n=e.target.value;if(n=parseInt(n),iMapsManager.filteredMap=n,n===t)iMapsManager.activeMap=t,"undefined"!=typeof iMapsManager&&(iMapsManager.filteredMap=!1,iMapsManager.showAllSeries(n));else if("undefined"!=typeof iMapsManager){iMapsManager.hideAllSeries(t,i);var a=iMaps.maps[t].seriesById[n];if(a&&a.length>0)for(var o=0;o<a.length;o++){var r=a[o];r.show()}}void 0!==iMaps.maps[n]&&(iMaps.maps[n].map.goHome(),iMaps.maps[n].map.dispatchImmediately("zoomlevelchanged"))})},iMapsActions.buildFilter=function(e){var t=e.getAttribute("data-base-map-id"),i=e.getAttribute("data-keep-base-map");i=void 0!==i&&"1"===i,t=parseInt(t);for(var n=e.querySelectorAll("li"),a=0;a<n.length;a++){var o=n[a];o.addEventListener("click",function(e){for(var a=0;a<n.length;a++){var o=n[a];o.classList.remove("igm-live-filter-active")}e.target.classList.add("igm-live-filter-active");var r=e.target.getAttribute("data-map-id");if(r=parseInt(r),iMapsManager.filteredMap=r,r===t)"undefined"!=typeof iMapsManager&&(iMapsManager.filteredMap=!1,iMapsManager.showAllSeries(r));else if("undefined"!=typeof iMapsManager){iMapsManager.hideAllSeries(t,i);var s=iMaps.maps[t].seriesById[r];if(s&&s.length>0)for(var l=0;l<s.length;l++){var d=s[l];d.show()}}void 0!==iMaps.maps[t]&&(iMaps.maps[t].map.goHome(),iMaps.maps[t].map.dispatchImmediately("zoomlevelchanged"))})}},iMapsActions.lightbox=!1,iMapsActions.lightboxAction=function(e,t,i){var n=[],a=iMapsActionOptions.lightboxWidth,o=iMapsActionOptions.lightboxHeight,r={};if("inline"===i)t.content="#"+iMapsActions.getIDfromData(t),n.push({href:t.content,type:i,width:a,height:o});else if("external"===i)"auto"===o&&(o=parseInt(.8*window.innerHeight)),n.push({href:t.content,type:i,width:a,height:o});else if(""!==t.content&&t.content.includes(",")){let e=t.content.split(",");e.forEach(function(e,t){n.push({href:e,type:i,width:a,height:o})})}else n.push({href:t.content,type:i,width:a,height:o});r={touchNavigation:!1,draggable:!1,keyboardNavigation:!1,loopAtEnd:!1,loop:!1,zoomable:!1,elements:n,closeButton:!0},window.innerWidth>768&&iMapsActions.isTouchScreendevice()&&(r.closeOnOutsideClick=!1),iMapsActions.lighbox||(iMapsActions.lightbox=GLightbox(r)),iMapsActions.lightbox.open()},iMapsActions.contentBelow=function(e,t,i){var n,a,o,r=document.getElementById("map_"+e).parentNode.parentNode.parentNode,s=r.parentNode.querySelector(".igm_content_below"),l=document.getElementById("igm-hidden-footer-content");t.content="[id='"+iMapsActions.getIDfromData(t)+"']",null===s&&(s=document.createElement("div"),s.classList.add("igm_content_below"),r.parentNode.insertBefore(s,r.nextSibling)),o=s.firstChild,o&&(o.style.display="none",l.appendChild(o)),a=document.querySelector(t.content),a&&(s.appendChild(a),a.style.display="block"),i&&(n=Math.floor(s.getBoundingClientRect().top-100),window.scrollBy({top:n,left:0,behavior:"smooth"}))},iMapsActions.contentAbove=function(e,t,i){var n,a,o=document.getElementById("map_"+e).parentNode.parentNode.parentNode,r=o.parentNode.querySelector(".igm_content_above"),s=document.getElementById("igm-hidden-footer-content");t.content="[id='"+iMapsActions.getIDfromData(t)+"']",null===r&&(r=document.createElement("div"),r.classList.add("igm_content_above"),o.parentNode.insertBefore(r,o.parentNode.childNodes[0])),a=r.firstChild,a&&(a.style.display="none",s.appendChild(a)),n=document.querySelector(t.content),n&&(r.appendChild(n),n.style.display="block"),i&&(originalTop=Math.floor(r.getBoundingClientRect().top-100),window.scrollBy({top:originalTop,left:0,behavior:"smooth"}))},iMapsActions.contentRight=function(e,t,i,n){var a,o,r=document.getElementById("map_"+e).parentNode.parentNode.parentNode,s=r.parentNode.querySelector("."+n),l=r.parentNode.querySelector("."+i),d=document.getElementById("igm-hidden-footer-content");t.content="[id='"+iMapsActions.getIDfromData(t)+"']",null===l&&(l=r.parentNode.querySelector(".map_box"),l.classList.add(i)),null===s&&(s=document.createElement("div"),s.classList.add(n),r.parentNode.insertBefore(s,r.nextSibling)),o=s.firstChild,o&&(o.style.display="none",d.appendChild(o)),a=document.querySelector(t.content),a&&(s.appendChild(a),a.style.display="block")},iMapsActions.pageBelow=function(e,t,i){if(""!==t.content){var n,a=parseInt(t.content),o=iMapsActionOptions.restURL+"pages/"+a,r=document.getElementById("map_"+e).parentNode.parentNode.parentNode,s=r.parentNode.querySelector(".igm_content_below"),l=new XMLHttpRequest;l.open("GET",o),l.onload=function(){if(l.status>=200&&l.status<400){var e=JSON.parse(l.response);s.innerHTML=e.content.rendered,i&&(n=Math.floor(s.getBoundingClientRect().top-100),window.scrollBy({top:n,left:0,behavior:"smooth"}))}else console.log("We connected to the server, but it returned an error.")},l.onerror=function(){console.log("Connection error")},l.send()}},iMapsActions.getIDfromData=function(e){var t;return void 0!==e.originalID?(t=e.originalID.replace(/\s/g,""),t=t.replace(/,/g,"_"),t=iMapsActions.wpFeSanitizeTitle(t),e.content=t+"_"+e.mapID):(Number.isInteger(e.id)&&(e.id=e.id.toString()),t=e.id.replace(/\s/g,""),t=t.replace(/,/g,"_"),t=iMapsActions.wpFeSanitizeTitle(t),e.content=t+"_"+e.mapID),e.content.toLowerCase()},iMapsActions.wpFeSanitizeTitle=function(e){return e=e.replace(/\ /g,"").replace(/\,/g,"_"),e=encodeURIComponent(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%/g,"").toLowerCase(),e},iMapsActions.resetContainer=function(e,t){var i=document.getElementById("map_wrapper_"+e),n=i.querySelector(t),a=document.getElementById("igm-hidden-footer-content");null!==n&&(what2hide=n.firstChild,what2hide&&a&&(what2hide.style.display="none",a.appendChild(what2hide)),what2display=document.getElementById("default_"+e),what2display&&(n.appendChild(what2display),what2display.style.display="block"))},iMapsActions.resetActions=function(e){iMapsActions.resetContainer(e,".igm_content_below"),iMapsActions.resetContainer(e,".igm_content_above"),iMapsActions.resetContainer(e,".igm_content_right_1_3")},iMapsActions.isTouchScreendevice=function(){return"ontouchstart"in window||navigator.maxTouchPoints},iMapsActions.loadScript=function(e,t){var i=document.createElement("script");i.type="text/javascript",i.src=e,i.onreadystatechange=t,i.onload=t,document.head.appendChild(i)},iMapsActions.loadScripts=function(e,t){var i=0,n=function(){i++,i>=e.length&&t.call(this,arguments)};e.forEach(function(e,t){iMapsActions.loadScript(e,n)})},void 0!==iMapsActionOptions.async&&Array.isArray(iMapsActionOptions.urls)&&iMapsActionOptions.urls.length>0?iMapsActions.loadScripts(iMapsActionOptions.urls,function(){iMapsActions.init()}):iMapsActions.init();